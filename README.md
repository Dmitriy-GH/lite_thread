# lite_thread.h

Кросплатформенная библиотека на С++11 для легкого распараллеливания кода, в т.ч. потоконебезопасного.

Все исходники и документация в lite_thread.h 

Библиотека построена по Модели Акторов, т.е. общий алгоритм разбивается на акторы (код, атомарные 
части бизнес-логики) и акторы общаются между собой пересылкой сообщений друг-другу. 

Библотека сама создает нужное количество потоков и запускает в них акторы. 

Библиотека гарантирует что актор не будет запущен одновременно в нескольких потоках, т.е. код актора 
не требует потокобезопасности. Но если актор потокобезопасный, то есть установка ограничения на 
количество одновременно работающих копий данного актора (см. lite_actor_parallel()). 
Также есть ограничение доступа группы акторов к конкретному ресурсу (процессор, память, сеть, БД и т.д.)

### Акторы
это или функция

**void recv(lite_msg_t* msg, void* env) {
 ... Обработка сообщения
}**

или класс, унаследованный от базового класса lite_worker_t 

**class worker_t : public lite_worker_t {
   void recv(lite_msg_t* msg) override {
       ... Обработка сообщения
   }
}**

И то и другое приводится к указателю на объект актора lite_actor_t*.

Для функций

**lite_actor_t* la = lite_actor_get(recv)**

Для классов, с созданием объекта

**lite_actor_t* la = lite_actor_create< worker_t >()** 

С созданием именованного объекта

**lite_actor_t* la = lite_actor_create< worker_t >("actor_name")**

Для именованных объектов всегда можно восстановить указатель:
**
lite_actor_t* la = lite_actor_get("actor_name")
**
Все объекты кэшируются библиотекой и удаляются при завершении ее работы, т.е. явного удаления не требуется.




